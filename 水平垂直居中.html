<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./go.js"></script>
  </head>
  <body>
    <div
      id="myDiagramDiv"
      style="border: 1px solid black; margin: 10px; height: 700px"
    ></div>
  </body>
</html>
<script>
    var $ = go.GraphObject.make,
      myDiagram = $(go.Diagram, "myDiagramDiv");
    // myDiagram.nodeTemplate =
    //   $(go.Node, "Auto",{ background: "#435577", width: 168, height: 168, },
    //     $(go.Picture,{ height: 140,width: 140 },	new go.Binding("source")),

    //     $(go.TextBlock, {height: 28, }, new go.Binding("text", "key"))  // textblock.text = data.key
    //   );


    // myDiagram.linkTemplate = $(go.Link, $(go.Shape, { strokeWidth: 6, stroke: $(go.Brush, "Linear", { 0.0: "rgba(86, 110, 153, 1)", 1.0: "rgba(56, 71, 99, 1)", }) }), $(go.Shape, { toArrow: 'Standard', fill: null, strokeWidth: 5, stroke: 'rgba(86, 110, 153, 1)' }));







    myDiagram.nodeTemplate = $(go.Node, "Vertical",{ background: "#435577"},

   
      $(go.Picture,{ height: 100,width: 100 },	new go.Binding("source")),
      
      $(go.TextBlock, {height: 28,width: 140 ,  textAlign: "center",verticalAlignment: go.Spot.Center , background: "#ccc",stroke: "rgba(154, 166, 186, 1)", font: "14px sans-serif" }, new go.Binding("text", "name"))
      )



   myDiagram.add(
    $(go.Part, "Vertical",{ locationObjectName: 'main' },
      $(go.Panel, "Spot", $(go.Shape, "Rectangle", { name: 'main', fill: "lightgreen", stroke: null, width: 100, height: 100 }),
       $(go.Shape, "Rectangle",{ fill: "lightcoral", stroke: null, width: 100, height: 30,alignment: go.Spot.BottomRight, alignmentFocus: go.Spot.BottomRight  })
      ),
     
    ));



$(go.Part, {  strokeWidth: 4, stroke: 'rgba(86, 110, 153, 1)' },


)
var model = $(go.TreeModel);
model.nodeDataArray =
	[
	{ key: "1",              name: "片烟（复烤厂）",   source: "https://gojs.net.cn/images/learn/cat1.png" },
	{ key: "2", parent: "1", name: "片烟加工",    source: "https://gojs.net.cn/images/learn/cat2.png" },
	{ key: "3", parent: "1", name: "发货&入库",   source: "https://gojs.net.cn/images/learn/cat3.png" },
	{ key: "4", parent: "3", name: "原料仓储", source: "https://gojs.net.cn/images/learn/cat4.png" },
	{ key: "5", parent: "3", name: "原料移库",     source: "https://gojs.net.cn/images/learn/cat5.png" },
	{ key: "6", parent: "2", name: "原料投料", source: "https://gojs.net.cn/images/learn/cat6.png" }
];
myDiagram.model = model;
</script>
